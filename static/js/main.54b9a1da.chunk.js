(this.webpackJsonpapplication=this.webpackJsonpapplication||[]).push([[0],{2:function(e,t,a){e.exports={taskbar:"Details_taskbar__PCWK7",homeworld:"Details_homeworld__S4nTH",worldList:"Details_worldList__RovIL",listItems:"Details_listItems__RgCAh",search:"Details_search__30wnH",tools:"Details_tools__KTa4x",sortTag:"Details_sortTag__1uFJd",notFound:"Details_notFound__1YOQz",container:"Details_container__1rmzK",header:"Details_header__3R3gt",pagination:"Details_pagination__1GN7A",pageControl:"Details_pageControl__ji8Qi",pageNumber:"Details_pageNumber__c7fbC"}},34:function(e,t,a){e.exports={container:"Loader_container__2SCiW"}},35:function(e,t,a){e.exports=a.p+"static/media/bb8Loader.18c3da0d.gif"},36:function(e,t,a){e.exports={container:"Banner_container__PkB4F"}},37:function(e,t,a){e.exports=a.p+"static/media/Star-Wars.84f50a53.jpg"},38:function(e,t,a){e.exports={container:"UserDetail_container__3prx4"}},41:function(e,t,a){e.exports=a(70)},46:function(e,t,a){},47:function(e,t,a){},5:function(e,t,a){e.exports={container:"Detail_container__2Xyrt",col_name:"Detail_col_name__1QH2p",col:"Detail_col__3ltOA"}},70:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(33),l=a.n(r),s=(a(46),a(47),a(22)),i=a(13),c=a(14),d=a(16),u=a(15),m=a(11),h=a(17),p=a(34),g=a.n(p),f=a(35),v=a.n(f),_=function(e){return o.a.createElement("div",{className:g.a.container},o.a.createElement("img",{src:v.a,alt:"loader..."}))},E=a(36),N=a.n(E),w=a(37),b=a.n(w),y=function(e){return o.a.createElement("div",{className:N.a.container},o.a.createElement("img",{src:b.a,alt:"banner"}))},D=a(2),C=a.n(D),S=a(5),k=a.n(S),T=function(e){return o.a.createElement("div",{className:k.a.container,onClick:e.OnClick},o.a.createElement("div",{className:k.a.col},e.name),o.a.createElement("div",{className:k.a.col},"n/a"===e.gender?e.gender:e.gender.charAt(0).toUpperCase()+e.gender.slice(1)),o.a.createElement("div",{className:k.a.col},"unknown"===e.height?e.height:e.height+" cm"),o.a.createElement("div",{className:k.a.col},e.homeworld),o.a.createElement("div",{className:k.a.col},e.birthYear))},H=a(19),P=a(8),L=a(38),O=a.n(L),x=function(){return o.a.createElement("div",{className:O.a.container},"details")},j=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(d.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={data:a.props.personData,dataToDisplay:[],dataToSort:a.props.personData,count:a.props.count,page:1,totalPage:0,isLoader:!0,filterListShow:!1,planets:[],selectedplanets:[],searchText:""},a.dataToDisplay=function(e){for(var t=e.length,n=[],o=Math.ceil(t/10),r=0;r<o;r++){for(var l=0,s=[];l<10&&l<t;)s.push(e[10*r+l]),l++;t-=10,n.push({data:s})}a.setState({dataToDisplay:n,isLoader:!1,totalPage:o})},a.getPlanets=function(){for(var e=a.state.data,t=[],n=a.state.count,o=0;o<n;o++)t.includes(e[o].homeworld)||t.push(e[o].homeworld);a.setState({planets:t})},a.changePage=function(e){var t=a.state.page;if(1===e){if(t===a.state.totalPage||0===a.state.totalPage)return}else if(-1===e&&1===t)return;a.setState({page:t+e})},a.onClickPersonHandler=function(e){console.log("index : ",e)},a.sortByName=function(){a.setState({isLoader:!0});var e=a.state.dataToSort;e.sort((function(e,t){return e.name<t.name?-1:e.name>t.name?1:0})),a.dataToDisplay(e)},a.sortByHeight=function(){a.setState({isLoader:!0});var e=a.state.dataToSort;e.sort((function(e,t){return"unknown"===e.height?1:"unknown"===t.height?-1:Number(e.height)<Number(t.height)?-1:Number(e.height)>Number(t.height)?1:0})),a.dataToDisplay(e)},a.onSortHandler=function(e){var t=e.target.innerHTML;"Name"===t?a.sortByName():"Height"===t&&a.sortByHeight()},a.homeworldOnClickHandler=function(){var e=a.state.filterListShow;a.setState({filterListShow:!e})},a.findCommonPeopleWithPlanet=function(){for(var e=a.state.data,t=a.state.count,n=[],o=a.state.selectedplanets,r=0;r<t;r++)o.includes(e[r].homeworld)&&n.push(e[r]);a.dataToDisplay(n),a.setState({dataToSort:n})},a.planetOnClickHandler=function(e){a.setState({page:1});var t=a.state.selectedplanets,n=e.target.innerHTML,o=t.indexOf(n);-1!==o?(t.splice(o,1),0===t.length?(a.setState({dataToSort:a.state.data}),a.dataToDisplay(a.state.data)):(a.setState({selectedplanets:t}),a.findCommonPeopleWithPlanet())):(t.push(n),a.setState({selectedplanets:t}),a.findCommonPeopleWithPlanet())},a.searchHandler=function(e){if(13===e.keyCode){a.setState({page:1});var t=a.state.searchText.toLowerCase();if(""===t)a.dataToDisplay(a.state.data);else{for(var n=a.state.data,o=[],r=a.state.count,l=0;l<r;l++){var s=n[l].name.toLowerCase(),i=n[l].homeworld.toLowerCase();(s.includes(t,1)||i.includes(t,1))&&o.push(n[l])}a.dataToDisplay(o)}}},a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.dataToDisplay(this.state.data),this.getPlanets()}},{key:"render",value:function(){var e=this;return o.a.createElement(H.a,null,o.a.createElement(P.c,null,o.a.createElement(P.a,{path:"/about"},o.a.createElement(x,null)),o.a.createElement(P.a,{path:"/"},o.a.createElement("div",null,o.a.createElement("div",{className:C.a.taskbar},o.a.createElement("div",{className:C.a.tools,style:{position:"relative"}},o.a.createElement("span",null,"Filter : "),o.a.createElement("span",{className:C.a.homeworld,onClick:this.homeworldOnClickHandler},"Homeworld"),this.state.filterListShow?o.a.createElement("div",{className:C.a.worldList},this.state.planets.map((function(t){return o.a.createElement("div",{className:C.a.listItems,key:t,onClick:function(t){return e.planetOnClickHandler(t)},style:e.state.selectedplanets.includes(t)?{background:"#292929"}:null},t)}))):null),o.a.createElement("div",{className:C.a.tools},o.a.createElement("span",null,o.a.createElement("input",{className:C.a.search,type:"text",placeholder:"Search",onKeyUp:function(t){return e.searchHandler(t)},onChange:function(t){return e.setState({searchText:t.target.value})}}))),o.a.createElement("div",{className:C.a.tools},o.a.createElement("span",null,"Sort By : "),o.a.createElement("span",{className:C.a.sortTag,style:{borderRight:"2px solid grey"},onClick:function(t){return e.onSortHandler(t)}},"Name"),o.a.createElement("span",{className:C.a.sortTag,onClick:function(t){return e.onSortHandler(t)}},"Height"))),this.state.isLoader?o.a.createElement(_,null):o.a.createElement("div",{id:"personList",className:C.a.container},o.a.createElement("div",{className:C.a.header},o.a.createElement("div",{className:k.a.col},"Name"),o.a.createElement("div",{className:k.a.col},"Gender"),o.a.createElement("div",{className:k.a.col},"Height"),o.a.createElement("div",{className:k.a.col},"Home World"),o.a.createElement("div",{className:k.a.col},"Birth Year")),0===this.state.totalPage?o.a.createElement("div",{className:C.a.notFound},"No Data Found !!"):this.state.dataToDisplay[this.state.page-1].data.map((function(t,a){return o.a.createElement(H.b,{to:"/about",key:a},o.a.createElement(T,{OnClick:function(){return e.onClickPersonHandler(a)},name:t.name,gender:t.gender,height:t.height,homeworld:t.homeworld,birthYear:t.birth_year}))})),o.a.createElement("div",{className:C.a.pagination},o.a.createElement("span",{className:C.a.pageControl,onClick:function(){return e.changePage(-1)},style:1===this.state.page?{color:"#808080",borderColor:"#808080"}:null},"pre"),o.a.createElement("span",{className:C.a.pageNumber},this.state.page),o.a.createElement("span",{className:C.a.pageControl,onClick:function(){return e.changePage(1)},style:this.state.page===this.state.totalPage||0===this.state.totalPage?{color:"#808080",borderColor:"#808080"}:null},"next")))))))}}]),t}(n.Component),W=a(12),B=a.n(W),A=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(d.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={data:[],isDataLoad:!1,count:0},a.loaderHandler=function(e){a.setState({isDataLoad:e})},a.setHomeWorld=function(){var e=Object(m.a)(a),t=[],n=[],o=a.state.data[0];B()(o.homeworld).then((function(a){return o.homeworld=a.data.name,t.push(o),e.state.count})).then((function(t){for(var a=1;a<t;a++)o=e.state.data[a],n.push(B()(o.homeworld));return Promise.all(n)})).then((function(a){for(var n=a.length,r=0;r<n;r++)(o=e.state.data[r+1]).homeworld=a[r].data.name,t.push(o);e.setState({data:t,isDataLoad:!0})}))},a.getAllStarwarsPeople=function(){var e=Object(m.a)(a),t=[];B()("https://swapi.co/api/people/").then((function(a){return t=a.data.results,e.setState({count:a.data.count}),a.data.count})).then((function(e){for(var t=Math.ceil((e-1)/10),a=[],n=2;n<=t;n++)a.push(B()("https://swapi.co/api/people?page=".concat(n)));return Promise.all(a)})).then((function(a){return t=a.reduce((function(e,t){return[].concat(Object(s.a)(e),Object(s.a)(t.data.results))}),t),e.setState({data:t}),e.setHomeWorld(),t})).catch((function(e){return console.log(e)}))},a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.getAllStarwarsPeople()}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(y,null),this.state.isDataLoad?o.a.createElement(j,{personData:this.state.data,count:this.state.count}):o.a.createElement(_,null))}}]),t}(n.Component);var F=function(){return o.a.createElement("div",{className:"App"},o.a.createElement(A,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(o.a.createElement(F,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[41,1,2]]]);
//# sourceMappingURL=main.54b9a1da.chunk.js.map