(this.webpackJsonpapplication=this.webpackJsonpapplication||[]).push([[0],{1:function(e,a,t){e.exports={container:"UserDetail_container__3prx4",subContainer:"UserDetail_subContainer__3055k",col_30:"UserDetail_col_30__2-qVu",col_70:"UserDetail_col_70__-WR8Z"}},3:function(e,a,t){e.exports={taskbar:"Details_taskbar__PCWK7",homeworld:"Details_homeworld__S4nTH",worldList:"Details_worldList__RovIL",listItems:"Details_listItems__RgCAh",search:"Details_search__30wnH",tools:"Details_tools__KTa4x",sortTag:"Details_sortTag__1uFJd",notFound:"Details_notFound__1YOQz",container:"Details_container__1rmzK",header:"Details_header__3R3gt",pagination:"Details_pagination__1GN7A",pageControl:"Details_pageControl__ji8Qi",pageNumber:"Details_pageNumber__c7fbC"}},35:function(e,a,t){e.exports={container:"Loader_container__2SCiW"}},36:function(e,a,t){e.exports=t.p+"static/media/bb8Loader.18c3da0d.gif"},37:function(e,a,t){e.exports={container:"Banner_container__PkB4F"}},38:function(e,a,t){e.exports=t.p+"static/media/Star-Wars.84f50a53.jpg"},41:function(e,a,t){e.exports=t(70)},46:function(e,a,t){},47:function(e,a,t){},6:function(e,a,t){e.exports={container:"Detail_container__2Xyrt",col_name:"Detail_col_name__1QH2p",col:"Detail_col__3ltOA"}},70:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),r=t(34),o=t.n(r),s=(t(46),t(47),t(23)),c=t(14),i=t(15),m=t(17),d=t(16),u=t(12),h=t(18),p=t(35),_=t.n(p),g=t(36),v=t.n(g),f=function(e){return l.a.createElement("div",{className:_.a.container},l.a.createElement("img",{src:v.a,alt:"loader..."}))},E=t(37),N=t.n(E),b=t(38),C=t.n(b),w=function(e){return l.a.createElement("div",{className:N.a.container},l.a.createElement("img",{src:C.a,alt:"banner"}))},y=t(3),D=t.n(y),S=t(6),k=t.n(S),H=function(e){return l.a.createElement("div",{className:k.a.container,onClick:e.OnClick},l.a.createElement("div",{className:k.a.col},e.name),l.a.createElement("div",{className:k.a.col},"n/a"===e.gender?e.gender:e.gender.charAt(0).toUpperCase()+e.gender.slice(1)),l.a.createElement("div",{className:k.a.col},"unknown"===e.height?e.height:e.height+" cm"),l.a.createElement("div",{className:k.a.col},e.homeworld),l.a.createElement("div",{className:k.a.col},e.birthYear))},T=t(20),P=t(9),L=t(1),O=t.n(L),x=function(e){return l.a.createElement("div",{className:O.a.container},l.a.createElement("div",{className:O.a.subContainer},l.a.createElement("div",{className:O.a.col_30},"Name"),l.a.createElement("div",{className:O.a.col_70},e.detail.name)),l.a.createElement("div",{className:O.a.subContainer},l.a.createElement("div",{className:O.a.col_30},"Height"),l.a.createElement("div",{className:O.a.col_70},e.detail.height)),l.a.createElement("div",{className:O.a.subContainer},l.a.createElement("div",{className:O.a.col_30},"Mass"),l.a.createElement("div",{className:O.a.col_70},e.detail.mass)),l.a.createElement("div",{className:O.a.subContainer},l.a.createElement("div",{className:O.a.col_30},"Hair Color"),l.a.createElement("div",{className:O.a.col_70},e.detail.hair_color)),l.a.createElement("div",{className:O.a.subContainer},l.a.createElement("div",{className:O.a.col_30},"Skin Color"),l.a.createElement("div",{className:O.a.col_70},e.detail.skin_color)),l.a.createElement("div",{className:O.a.subContainer},l.a.createElement("div",{className:O.a.col_30},"Eye Color"),l.a.createElement("div",{className:O.a.col_70},e.detail.eye_color)),l.a.createElement("div",{className:O.a.subContainer},l.a.createElement("div",{className:O.a.col_30},"Birth Year"),l.a.createElement("div",{className:O.a.col_70},e.detail.birth_year)),l.a.createElement("div",{className:O.a.subContainer},l.a.createElement("div",{className:O.a.col_30},"Gender"),l.a.createElement("div",{className:O.a.col_70},e.detail.gender)),l.a.createElement("div",{className:O.a.subContainer},l.a.createElement("div",{className:O.a.col_30},"Home World"),l.a.createElement("div",{className:O.a.col_70},e.detail.homeworld)))},j=function(e){function a(){var e,t;Object(c.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(t=Object(m.a)(this,(e=Object(d.a)(a)).call.apply(e,[this].concat(l)))).state={data:t.props.personData,dataToDisplay:[],dataToSort:t.props.personData,count:t.props.count,page:1,totalPage:0,isLoader:!0,filterListShow:!1,planets:[],selectedplanets:[],searchText:"",detail:[]},t.dataToDisplay=function(e){for(var a=e.length,n=[],l=Math.ceil(a/10),r=0;r<l;r++){for(var o=0,s=[];o<10&&o<a;)s.push(e[10*r+o]),o++;a-=10,n.push({data:s})}t.setState({dataToDisplay:n,isLoader:!1,totalPage:l})},t.getPlanets=function(){for(var e=t.state.data,a=[],n=t.state.count,l=0;l<n;l++)a.includes(e[l].homeworld)||a.push(e[l].homeworld);t.setState({planets:a})},t.changePage=function(e){var a=t.state.page;if(1===e){if(a===t.state.totalPage||0===t.state.totalPage)return}else if(-1===e&&1===a)return;t.setState({page:a+e})},t.onClickPersonHandler=function(e){t.setState({detail:t.state.data[10*(t.state.page-1)+e]})},t.sortByName=function(){t.setState({isLoader:!0});var e=t.state.dataToSort;e.sort((function(e,a){return e.name<a.name?-1:e.name>a.name?1:0})),t.dataToDisplay(e)},t.sortByHeight=function(){t.setState({isLoader:!0});var e=t.state.dataToSort;e.sort((function(e,a){return"unknown"===e.height?1:"unknown"===a.height?-1:Number(e.height)<Number(a.height)?-1:Number(e.height)>Number(a.height)?1:0})),t.dataToDisplay(e)},t.onSortHandler=function(e){var a=e.target.innerHTML;"Name"===a?t.sortByName():"Height"===a&&t.sortByHeight()},t.homeworldOnClickHandler=function(){var e=t.state.filterListShow;t.setState({filterListShow:!e})},t.findCommonPeopleWithPlanet=function(){for(var e=t.state.data,a=t.state.count,n=[],l=t.state.selectedplanets,r=0;r<a;r++)l.includes(e[r].homeworld)&&n.push(e[r]);t.dataToDisplay(n),t.setState({dataToSort:n})},t.planetOnClickHandler=function(e){t.setState({page:1});var a=t.state.selectedplanets,n=e.target.innerHTML,l=a.indexOf(n);-1!==l?(a.splice(l,1),0===a.length?(t.setState({dataToSort:t.state.data}),t.dataToDisplay(t.state.data)):(t.setState({selectedplanets:a}),t.findCommonPeopleWithPlanet())):(a.push(n),t.setState({selectedplanets:a}),t.findCommonPeopleWithPlanet())},t.searchHandler=function(e){if(13===e.keyCode){t.setState({page:1});var a=t.state.searchText.toLowerCase();if(""===a)t.dataToDisplay(t.state.data);else{for(var n=t.state.data,l=[],r=t.state.count,o=0;o<r;o++){var s=n[o].name.toLowerCase(),c=n[o].homeworld.toLowerCase();(s.includes(a,1)||c.includes(a,1))&&l.push(n[o])}t.dataToDisplay(l)}}},t}return Object(h.a)(a,e),Object(i.a)(a,[{key:"componentDidMount",value:function(){this.dataToDisplay(this.state.data),this.getPlanets()}},{key:"render",value:function(){var e=this;return l.a.createElement(T.a,null,l.a.createElement(P.c,null,l.a.createElement(P.a,{path:"/about"},l.a.createElement(x,{detail:this.state.detail})),l.a.createElement(P.a,{path:"/"},l.a.createElement("div",null,l.a.createElement("div",{className:D.a.taskbar},l.a.createElement("div",{className:D.a.tools,style:{position:"relative"}},l.a.createElement("span",null,"Filter : "),l.a.createElement("span",{className:D.a.homeworld,onClick:this.homeworldOnClickHandler},"Homeworld"),this.state.filterListShow?l.a.createElement("div",{className:D.a.worldList},this.state.planets.map((function(a){return l.a.createElement("div",{className:D.a.listItems,key:a,onClick:function(a){return e.planetOnClickHandler(a)},style:e.state.selectedplanets.includes(a)?{background:"#292929"}:null},a)}))):null),l.a.createElement("div",{className:D.a.tools},l.a.createElement("span",null,l.a.createElement("input",{className:D.a.search,type:"text",placeholder:"Search",onKeyUp:function(a){return e.searchHandler(a)},onChange:function(a){return e.setState({searchText:a.target.value})}}))),l.a.createElement("div",{className:D.a.tools},l.a.createElement("span",null,"Sort By : "),l.a.createElement("span",{className:D.a.sortTag,style:{borderRight:"2px solid grey"},onClick:function(a){return e.onSortHandler(a)}},"Name"),l.a.createElement("span",{className:D.a.sortTag,onClick:function(a){return e.onSortHandler(a)}},"Height"))),this.state.isLoader?l.a.createElement(f,null):l.a.createElement("div",{id:"personList",className:D.a.container},l.a.createElement("div",{className:D.a.header},l.a.createElement("div",{className:k.a.col},"Name"),l.a.createElement("div",{className:k.a.col},"Gender"),l.a.createElement("div",{className:k.a.col},"Height"),l.a.createElement("div",{className:k.a.col},"Home World"),l.a.createElement("div",{className:k.a.col},"Birth Year")),0===this.state.totalPage?l.a.createElement("div",{className:D.a.notFound},"No Data Found !!"):this.state.dataToDisplay[this.state.page-1].data.map((function(a,t){return l.a.createElement(T.b,{to:"/about",key:t},l.a.createElement(H,{OnClick:function(){return e.onClickPersonHandler(t)},name:a.name,gender:a.gender,height:a.height,homeworld:a.homeworld,birthYear:a.birth_year}))})),l.a.createElement("div",{className:D.a.pagination},l.a.createElement("span",{className:D.a.pageControl,onClick:function(){return e.changePage(-1)},style:1===this.state.page?{color:"#808080",borderColor:"#808080"}:null},"pre"),l.a.createElement("span",{className:D.a.pageNumber},this.state.page),l.a.createElement("span",{className:D.a.pageControl,onClick:function(){return e.changePage(1)},style:this.state.page===this.state.totalPage||0===this.state.totalPage?{color:"#808080",borderColor:"#808080"}:null},"next")))))))}}]),a}(n.Component),W=t(13),B=t.n(W),A=function(e){function a(){var e,t;Object(c.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(t=Object(m.a)(this,(e=Object(d.a)(a)).call.apply(e,[this].concat(l)))).state={data:[],isDataLoad:!1,count:0},t.loaderHandler=function(e){t.setState({isDataLoad:e})},t.setHomeWorld=function(){var e=Object(u.a)(t),a=[],n=[],l=t.state.data[0];B()(l.homeworld).then((function(t){return l.homeworld=t.data.name,a.push(l),e.state.count})).then((function(a){for(var t=1;t<a;t++)l=e.state.data[t],n.push(B()(l.homeworld));return Promise.all(n)})).then((function(t){for(var n=t.length,r=0;r<n;r++)(l=e.state.data[r+1]).homeworld=t[r].data.name,a.push(l);e.setState({data:a,isDataLoad:!0})}))},t.getAllStarwarsPeople=function(){var e=Object(u.a)(t),a=[];B()("https://swapi.co/api/people/").then((function(t){return a=t.data.results,e.setState({count:t.data.count}),t.data.count})).then((function(e){for(var a=Math.ceil((e-1)/10),t=[],n=2;n<=a;n++)t.push(B()("https://swapi.co/api/people?page=".concat(n)));return Promise.all(t)})).then((function(t){return a=t.reduce((function(e,a){return[].concat(Object(s.a)(e),Object(s.a)(a.data.results))}),a),e.setState({data:a}),e.setHomeWorld(),a})).catch((function(e){return console.log(e)}))},t}return Object(h.a)(a,e),Object(i.a)(a,[{key:"componentDidMount",value:function(){this.getAllStarwarsPeople()}},{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement(w,null),this.state.isDataLoad?l.a.createElement(j,{personData:this.state.data,count:this.state.count}):l.a.createElement(f,null))}}]),a}(n.Component);var F=function(){return l.a.createElement("div",{className:"App"},l.a.createElement(A,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(l.a.createElement(F,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[41,1,2]]]);
//# sourceMappingURL=main.dd32fc6d.chunk.js.map